#include <stdio.h>
#include <unistd.h>
#include <sys/types.h>

int vglob=0;

int main(void) {
	int vloc=0;
	int pid = fork();
	printf("Valeur de fork = %d ", pid);
	printf("processus %d de pere %d\n", (int) getpid(), (int) getppid());
	if(pid == 0) { /* Processus fils */
		printf("[%d] [%d] ", vglob, vloc);
		printf("fin du processus fils");
		vglob = 3;
		vloc = 2;
		printf(" [%d] [%d]\n", vglob, vloc);
	}
	else { /* Processus pere */
		printf("[%d] [%d] ", vglob, vloc);
		printf("fin du processus pere");
		vglob = 7;
		vloc = 5;
		printf(" [%d] [%d]\n", vglob, vloc);
	}
	return 0;
}
