// automatically generated by Xtext
grammar scenario.ScenarioDSL with org.eclipse.xtext.common.Terminals

import "http://www.example.org/scenario" 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

Scenario returns Scenario:
	'Scenario' name=EString schedule=Schedule
	;


Component returns Component:
	Activity
	| Divergence
	;

EString returns ecore::EString:
	STRING | ID;

Schedule returns Schedule:
	'Schedule ['
		'-' components+=Component ( "-" components+=Component)* 
	']'
	;

Activity returns Activity:
	{Activity}
	'Act' name=EString
	('<-' previous=[Component|EString])?
	('->' next=[Component|EString])?
	(schedule=Schedule)?
	;

Divergence returns Divergence:
	{Divergence}
	'Div' type=DivergenceType
	('<-' previous=[Component|EString])?
	('->' next=[Component|EString])?
	'['
		'-' schedules+=Schedule ( "-" schedules+=Schedule)* 
	']';

enum DivergenceType returns DivergenceType:
	Choice = 'Choice'
	| Parallel = 'Parallel';
